{"version":3,"file":"commonHelpers.js","sources":["../src/main.js"],"sourcesContent":["import iziToast from \"izitoast\";\nimport \"izitoast/dist/css/iziToast.min.css\";\nimport SimpleLightbox from \"simplelightbox\";\nimport \"simplelightbox/dist/simple-lightbox.min.css\";\n\nconst URL =\"https://pixabay.com/api\";\nconst API_KEY = \"42149629-e1e8d2a9238f015bc3d9ce966\";\n\nconst refs = {\n    form: document.getElementById(\"form\"),\n    resultContainer: document.getElementById(\"result-container\")\n};\n\nrefs.form.addEventListener(\"submit\", handleSearch);  //лісенер на форму\n\nfunction handleSearch(event) {  // отримуємо дані з інпуту\n    event.preventDefault();\n    const form = event.currentTarget;\n    const requestForSearch = form.elements.search.value;\n\n    if (form.elements.search.value.length === 0){\n            iziToast.show({\n                message: \"Sorry, there are no images matching your search query. Please, try again!\",\n                color: \"red\"\n            });  \n            return;\n        }\n\n\n        showLoadingIndicator(); // Відобразити індикатор завантаження перед запитом\n\n    searchPictures(requestForSearch)\n    .then((data) =>{\n        const pictures = data.hits;\n\n        let markup = \"\"\n        for (const pic of pictures) {\n            markup +=createPicturesMarkup(pic);\n            // console.log(pic)\n        }\n        refs.resultContainer.innerHTML = markup;\n        \n    })\n    \n    .finally(() => {\n        // Приховати індикатор завантаження після завершення запиту\n        hideLoadingIndicator();\n        form.reset();\n    });\n}\n\nfunction showLoadingIndicator() {\n    document.getElementById(\"loading-indicator\").style.display = \"block\";\n}\n\nfunction hideLoadingIndicator() {\n    document.getElementById(\"loading-indicator\").style.display = \"none\";\n}\n\nfunction searchPictures(requestForSearch) {\n    return fetch(`${URL}?key=${API_KEY}&q=${requestForSearch}&image_type=photo&orientation=horizontal&safesearch=true&per_page=12`).then(\n        (res) => {\n            if (!res.ok){\n                throw new Error(`Network response was not ok: ${response.statusText}`);\n            }\n            return res.json();\n        }\n    );\n}\n\n\nfunction createPicturesMarkup({likes, views, comments, downloads, webformatURL, largeImageURL}) {\n    return `<li>\n        <a class=\"gallery-link\" href=\"${largeImageURL}\">\n         <img\n           class=\"gallery-image\"\n           src=\"${webformatURL}\"\n         />\n        </a>\n        <p>like ${likes}</p>\n        <p>viewsc ${views}</p>\n        <p>comments ${comments}</p>\n        <p>downloads ${downloads}</p>\n    </li>\n`\n}\n\n    \n\n\n\n\n\n\n\n\n// let gallery = new SimpleLightbox('.gallery a');\n// gallery.on('show.simplelightbox', function () {\n// \t// Do something…\n// });\n\n// gallery.on('error.simplelightbox', function (e) {\n// \tconsole.log(e); // Some usefull information\n// });\n\n// galery\n\n\n\n// const images = [\n//     {\n//       preview:\n//         \"https://cdn.pixabay.com/photo/2019/05/14/16/43/rchids-4202820__480.jpg\",\n//       original:\n//         \"https://cdn.pixabay.com/photo/2019/05/14/16/43/rchids-4202820_1280.jpg\",\n//       description: \"Hokkaido Flower\",\n//     },\n// ];\n\n// const gallery = document.querySelector(\".gallery\"); \n\n\n// gallery.innerHTML = createMarkup(images);\n\n// function createMarkup(images){\n//   return images.map(({preview, original, description}) => \n//   `<li class=\"gallery-item\">\n//   <a class=\"gallery-link\" href=\"${original}\">\n//     <im\n//       class=\"gallery-image\"\n//       src=\"${preview}\"\n//       alt=\"${description}\"\n//     />\n//   </a>\n//   </li>`\n//   )\n// .join (\"\")\n// }\n\n// const lightbox = new SimpleLightbox(\".gallery a\", {  \n//   captionsData: \"alt\", \n//   captionDelay: 250,\n// }"],"names":["URL","API_KEY","refs","handleSearch","event","form","requestForSearch","iziToast","showLoadingIndicator","searchPictures","data","pictures","markup","pic","createPicturesMarkup","hideLoadingIndicator","res","likes","views","comments","downloads","webformatURL","largeImageURL"],"mappings":"svBAKA,MAAMA,EAAK,0BACLC,EAAU,qCAEVC,EAAO,CACT,KAAM,SAAS,eAAe,MAAM,EACpC,gBAAiB,SAAS,eAAe,kBAAkB,CAC/D,EAEAA,EAAK,KAAK,iBAAiB,SAAUC,CAAY,EAEjD,SAASA,EAAaC,EAAO,CACzBA,EAAM,eAAc,EACpB,MAAMC,EAAOD,EAAM,cACbE,EAAmBD,EAAK,SAAS,OAAO,MAE9C,GAAIA,EAAK,SAAS,OAAO,MAAM,SAAW,EAAE,CACpCE,EAAS,KAAK,CACV,QAAS,4EACT,MAAO,KACvB,CAAa,EACD,MACH,CAGDC,IAEJC,EAAeH,CAAgB,EAC9B,KAAMI,GAAQ,CACX,MAAMC,EAAWD,EAAK,KAEtB,IAAIE,EAAS,GACb,UAAWC,KAAOF,EACdC,GAASE,EAAqBD,CAAG,EAGrCX,EAAK,gBAAgB,UAAYU,CAEzC,CAAK,EAEA,QAAQ,IAAM,CAEXG,IACAV,EAAK,MAAK,CAClB,CAAK,CACL,CAEA,SAASG,GAAuB,CAC5B,SAAS,eAAe,mBAAmB,EAAE,MAAM,QAAU,OACjE,CAEA,SAASO,GAAuB,CAC5B,SAAS,eAAe,mBAAmB,EAAE,MAAM,QAAU,MACjE,CAEA,SAASN,EAAeH,EAAkB,CACtC,OAAO,MAAM,GAAGN,SAAWC,OAAaK,uEAAsF,EAAE,KAC3HU,GAAQ,CACL,GAAI,CAACA,EAAI,GACL,MAAM,IAAI,MAAM,gCAAgC,SAAS,YAAY,EAEzE,OAAOA,EAAI,MACd,CACT,CACA,CAGA,SAASF,EAAqB,CAAC,MAAAG,EAAO,MAAAC,EAAO,SAAAC,EAAU,UAAAC,EAAW,aAAAC,EAAc,cAAAC,CAAa,EAAG,CAC5F,MAAO;AAAA,wCAC6BA;AAAA;AAAA;AAAA,kBAGtBD;AAAA;AAAA;AAAA,kBAGAJ;AAAA,oBACEC;AAAA,sBACEC;AAAA,uBACCC;AAAA;AAAA,CAGvB"}